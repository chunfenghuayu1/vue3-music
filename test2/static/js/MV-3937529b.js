import{_ as e}from"./MvCover-4a96fe72.js";import{_ as a}from"./index-e3510e51.js";import{r as t,P as s,a3 as l,a as r,b as i,x as d,e as o,s as m,j as p,F as n,I as v,y as u,o as c,V as f}from"./vendor-7d305bdc.js";import{f as x}from"./format-219ee090.js";import{P as y}from"./plyr-cb91dff8.js";import"./__commonjsHelpers__-d99f3c2d.js";const h={class:"w-full mt-4"},b={class:"space-y-2"},g={class:"rounded-2xl bg-transparent overflow-hidden max-h-full"},_={class:"flex items-center space-x-8"},j={class:"font-bold text-2xl"},V={class:"flex items-center space-x-8"},q={class:"text-xs text-skin-tertiary"},M={class:"flex items-center text-xs text-skin-tertiary italic"},k={class:"mt-12"},w=i("div",{class:"font-semibold text-lg"},"更多视频",-1),P={class:"grid grid-cols-5 gap-10 lg:gap-x-5 mt-4"},$={__name:"MV",setup($){const z=u(),{proxy:C}=f(),N=t(null),S=t(null),D=t({}),F=t([]),H=e=>{C.$http.reqMVDetail({mvid:e}).then((({data:a})=>{D.value=a.data;let t=a.data.brs.map((a=>C.$http.reqMVUrl({id:e,r:a.br})));Promise.all(t).then((e=>{let a=e.map((e=>({src:e.data.data.url.replace(/^http:/,"https:"),type:"video/mp4",size:e.data.data.r})));N.value.source={type:"video",title:D.value.name,sources:a,poster:D.value.cover.replace(/^http:/,"https:")}}))})),C.$http.reqMVSimi({mvid:e}).then((({data:e})=>{F.value=e.mvs}))};return s((()=>{N.value=new y(S.value,{settings:["quality","speed"],autoplay:!1,loadSprite:!0,volume:.5,quality:{default:1080,options:[1080,720,480,240]},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2,4]}}),H(z.params.vid)})),l((e=>{e.name===z.name&&H(e.params.vid)})),(t,s)=>{const l=a,u=e;return c(),r("div",h,[i("div",b,[i("div",g,[i("video",{ref_key:"VideoPlayer",ref:S,style:{"--plyr-color-main":"#63bbd0"}},null,512)]),i("div",_,[i("div",j,d(D.value.artistName)+" - "+d(D.value.name),1)]),i("div",V,[i("div",q,d(D.value.publishTime),1),i("div",M,[o(l,{name:"play",size:"18"}),m(d(p(x)(D.value.playCount)),1)])])]),i("div",k,[w,i("div",P,[(c(!0),r(n,null,v(F.value,((e,a)=>(c(),r("div",{key:a},[o(u,{item:e,"show-title":!0,name:e.name,"img-url":e.cover.replace(/^http:/,"https:"),"sub-text":e.artistName},null,8,["item","name","img-url","sub-text"])])))),128))])])])}}};export{$ as default};
