import{r as e,c as a,a4 as s,g as t,$ as l,a as i,b as r,x as n,j as o,e as c,f as m,q as u,w as d,a2 as p,a5 as v,y as f,o as y,F as x,I as g,V as b}from"./vendor-7d305bdc.js";import"./el-infinite-scroll-00108f1c.js";import{_ as k}from"./Modal-887bfacc.js";import{_ as h}from"./PlayListItem-3d92cd96.js";import{b as j,_}from"./index-af30ce7c.js";import{b as w}from"./format-219ee090.js";import"./__commonjsHelpers__-d99f3c2d.js";const C={class:"flex space-x-12 mt-8 my-16"},$={class:"flex items-center justify-center flex-shrink-0 relative"},I=["src"],L=["src"],z={class:"flex flex-col justify-center"},P={class:"font-bold text-5xl mb-4"},V={class:""},q={class:"lineClamp1 font-bold"},U=r("span",null,"歌单列表",-1),T=r("span",null," • ",-1),A=["href"],D={class:"lineClamp1 text-skin-tertiary text-sm"},F=r("span",null," • ",-1),H=["textContent"],M={class:"mt-4 flex items-center space-x-8"},N={class:"py-1.5 px-2.5 rounded-lg flex items-center justify-center space-x-1 bg-skin-primary bg-opacity-20 flex-shrink-0"},B=r("span",{class:"font-bold text-skin-primary"},"播放",-1),E={key:0,class:"p-2 rounded-lg flex items-center justify-center bg-gray-400 bg-opacity-10 flex-shrink-0"},G={class:"p-0.5 rounded-lg flex items-center justify-center bg-gray-400 bg-opacity-10 flex-shrink-0"},J={"infinite-scroll-immediate":!1,"infinite-scroll-distance":"100","infinite-scroll-delay":"600"},K={class:"text-sm text-skin-tertiary flex items-center justify-center mt-8 select-none"},O={key:0},Q={class:"overflow-auto text-sm whitespace-pre-wrap"},R={__name:"PlayList",setup(R){const{proxy:S}=b(),W=f(),X=j(),Y=e(!1),Z=()=>{Y.value=!0},ee=e({}),ae=e([]),se=({id:e,limit:a,offset:s})=>{s<1&&S.$http.reqPlayListDetail({id:e}).then((({data:e})=>{ee.value=e.playlist})),S.$http.reqPlayLsitTrankAll({id:e,limit:a,offset:s}).then((({data:e})=>{ae.value=[...ae.value,...e.songs],ie.value=0===e.songs.length}))},te=e(0),le=e(25),ie=e(!1);se({id:W.params.id,limit:le.value,offset:le.value*te.value});const re=()=>{ie.value||(te.value++,se({id:W.params.id,limit:le.value,offset:le.value*te.value}))},ne=a((()=>!X.userList.playlist.some((e=>e.id===Number(W.params.id)))));return(e,a)=>{var f,b;const j=_,R=h,S=k,W=s;return t((y(),i("div",null,[r("div",C,[r("div",$,[r("img",{src:`${ee.value.coverImgUrl}?param=512y512`,class:"rounded-lg h-72 w-72"},null,8,I),r("img",{src:`${ee.value.coverImgUrl}?param=512y512`,class:"h-72 w-72 absolute top-3 -z-10 bg-cover blur-md opacity-60 rounded-lg"},null,8,L)]),r("div",z,[r("h3",P,n(ee.value.name),1),r("div",V,[r("div",q,[U,T,r("a",{target:"_blank",href:`https://music.163.com/#/user/home?id=${null==(f=ee.value.creator)?void 0:f.userId}`,class:"hover:underline"},n(null==(b=ee.value.creator)?void 0:b.nickname),9,A)]),r("div",D,[r("span",null,"最后更新于"+n(o(w)(ee.value.updateTime)),1),F,r("span",null,n(ee.value.trackCount)+"首歌",1)])]),r("div",{class:"my-4 lineClamp3 text-skin-tertiary text-sm cursor-pointer whitespace-pre-wrap",onClick:Z,textContent:n(ee.value.description)},null,8,H),r("div",M,[r("button",N,[c(j,{name:"play",size:"24",class:"text-skin-primary"}),B]),o(ne)?(y(),i("button",E,[(y(),m(j,{key:0,name:"dislike",size:"20",class:"text-skin-primary"}))])):u("",!0),r("button",G,[c(j,{name:"more",size:"32",class:"text-skin-primary"})])])])]),t((y(),i("div",J,[c(p,{tag:"div",name:"track-item"},{default:d((()=>[(y(!0),i(x,null,g(ae.value,((e,a)=>(y(),i("div",{key:a,class:"space-y-6"},[c(R,{song:e},null,8,["song"])])))),128))])),_:1})])),[[W,re]]),r("div",K,[ie.value?(y(),i("div",O,"没有更多数据了......")):u("",!0)]),(y(),m(v,{to:"#main"},[c(S,{modelValue:Y.value,"onUpdate:modelValue":a[0]||(a[0]=e=>Y.value=e),type:"歌单介绍"},{content:d((()=>[r("div",Q,n(ee.value.description),1)])),_:1},8,["modelValue"])]))],512)),[[l,ee.value.name]])}}};export{R as default};
