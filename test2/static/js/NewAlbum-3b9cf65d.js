import{_ as e}from"./Modal-887bfacc.js";import{b as s,_ as a}from"./index-af30ce7c.js";import{r as t,g as l,$ as i,o as n,a as r,b as o,x as c,e as d,q as u,j as m,f as p,c as v,w as y,a2 as x,a5 as f,y as g,t as k,s as b,F as h,I as j,V as _,l as w}from"./vendor-7d305bdc.js";import{a as C,b as z}from"./format-219ee090.js";import"./__commonjsHelpers__-d99f3c2d.js";const I={class:"w-2 flex items-center justify-center"},V={key:0,class:"font-semibold italic text-skin-tertiary"},$={key:1},q={class:"flex flex-col justify-center flex-1"},A={class:"flex font-bold text-lg lineClamp1"},M={class:"lineClamp1 hover:underline cursor-pointer"},T={key:0,class:"text-skin-tertiary lineClamp1"},U={class:"flex justify-end items-center w-8"},D={class:"cursor-pointer"},S={key:0,class:"flex items-center justify-center"},B={__name:"AlbumItem",props:{song:{type:Object,default:()=>{}}},setup(e){const v=s(),y=t(!1);return(s,t)=>{const x=a;return l((n(),r("div",{class:"flex space-x-6 items-center hover:bg-opacity-10 hover:bg-skin-tertiary transition-all rounded-lg py-3 px-4",onMouseenter:t[0]||(t[0]=e=>y.value=!0),onMouseleave:t[1]||(t[1]=e=>y.value=!1)},[o("div",I,[y.value&&e.song.dt?e.song.dt?(n(),r("div",$,[d(x,{name:"play",size:"24",class:"text-skin-primary"})])):u("",!0):(n(),r("div",V,c(e.song.no),1))]),o("div",q,[o("div",A,[o("span",M,c(e.song.name),1),e.song.alia[0]?(n(),r("span",T," ("+c(e.song.alia[0])+") ",1)):u("",!0)])]),o("div",U,[l(o("div",D,[m(v).likeSongIds(e.song.id)?(n(),p(x,{key:0,name:"like",size:"20",class:"text-skin-primary"})):(n(),p(x,{key:1,name:"dislike",size:"20",class:"text-skin-primary"}))],512),[[i,m(v).likeSongIds(e.song.id)||y.value&&e.song.dt]])]),e.song.dt?(n(),r("div",S,c(m(C)(e.song.dt)),1)):u("",!0)],544)),[[i,e.song.name]])}}},F={class:"flex space-x-12 mt-8 my-16"},H={class:"flex items-center justify-center flex-shrink-0 relative"},N=["src"],O=["src"],E={class:"flex flex-col justify-center"},G={class:"font-bold text-5xl mb-4 lineClamp2"},J={class:""},K={class:"lineClamp1 font-bold"},L=o("span",null,"专辑列表",-1),P=o("span",null," • ",-1),Q={class:"lineClamp1 text-skin-tertiary text-sm"},R=o("span",null," • ",-1),W=["textContent"],X={class:"mt-4 flex items-center space-x-8"},Y={class:"py-1.5 px-2.5 rounded-lg flex items-center justify-center space-x-1 bg-skin-primary bg-opacity-20 flex-shrink-0"},Z=o("span",{class:"font-bold text-skin-primary"},"播放",-1),ee={class:"p-2 rounded-lg flex items-center justify-center bg-gray-400 bg-opacity-10 flex-shrink-0"},se={class:"p-0.5 rounded-lg flex items-center justify-center bg-gray-400 bg-opacity-10 flex-shrink-0"},ae={key:0,class:"flex items-center my-4"},te={class:"font-bold text-2xl"},le={class:"overflow-auto text-sm whitespace-pre-wrap"},ie={__name:"NewAlbum",setup(s){const{proxy:C}=_(),I=g(),V=t(!1),$=()=>{V.value=!0},q=t({}),A=t([]),M=v((()=>{const e=w.exports.uniqBy(A.value,"cd"),s=e.length>1;return{list:e.map((e=>({list:A.value.filter((s=>s.cd===e.cd)),cd:e.cd}))),isTitle:s}}));return(({id:e})=>{C.$http.reqAlbumDetail({id:e}).then((({data:e})=>{q.value=e.album,A.value=e.songs}))})({id:I.params.id}),(s,t)=>{var v;const g=k("router-link"),_=a,w=B,C=e;return l((n(),r("div",null,[o("div",F,[o("div",H,[o("img",{src:`${q.value.picUrl}?param=512y512`,class:"rounded-lg h-72 w-72"},null,8,N),o("img",{src:`${q.value.picUrl}?param=512y512`,class:"h-72 w-72 absolute top-3 -z-10 bg-cover blur-md opacity-60 rounded-lg"},null,8,O)]),o("div",E,[o("h3",G,c(q.value.name),1),o("div",J,[o("div",K,[L,P,(null==(v=q.value.artists)?void 0:v.length)>0?(n(),p(g,{key:0,to:{name:"artist",params:{id:q.value.artist.id}},class:"hover:underline"},{default:y((()=>[b(c(q.value.artist.name),1)])),_:1},8,["to"])):u("",!0)]),o("div",Q,[o("span",null,"发布于"+c(m(z)(q.value.publishTime)),1),R,o("span",null,c(q.value.size)+"首歌",1)])]),o("div",{class:"my-4 lineClamp3 text-skin-tertiary text-sm cursor-pointer whitespace-pre-wrap",onClick:$,textContent:c(q.value.description)},null,8,W),o("div",X,[o("button",Y,[d(_,{name:"play",size:"24",class:"text-skin-primary"}),Z]),o("button",ee,[(n(),p(_,{key:0,name:"dislike",size:"20",class:"text-skin-primary"}))]),o("button",se,[d(_,{name:"more",size:"32",class:"text-skin-primary"})])])])]),d(x,{tag:"div",name:"track-item"},{default:y((()=>[(n(!0),r(h,null,j(m(M).list,((e,s)=>(n(),r("div",{key:s,class:"space-y-2"},[m(M).isTitle?(n(),r("div",ae,[o("h3",te,"Disc"+c(e.cd),1)])):u("",!0),(n(!0),r(h,null,j(e.list,((e,s)=>(n(),r("div",{key:s},[d(w,{song:e},null,8,["song"])])))),128))])))),128))])),_:1}),(n(),p(f,{to:"#main"},[d(C,{modelValue:V.value,"onUpdate:modelValue":t[0]||(t[0]=e=>V.value=e),type:"专辑介绍"},{content:y((()=>[o("div",le,c(q.value.description),1)])),_:1},8,["modelValue"])]))],512)),[[i,q.value.name]])}}};export{ie as default};
