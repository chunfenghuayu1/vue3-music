import{_ as e}from"./Modal.9b6ee74a.js";import{_ as t}from"./TrackCover.45ee20fd.js";import{_ as l}from"./MvCover.4f40a3cc.js";import{_ as s}from"./Cover.8145f599.js";import{f as a,m as i,i as r,L as m,M as n,c,a as u,t as o,b as v,s as d,v as x,u as p,F as f,e as y,w as b,Y as g,S as h,E as k,J as w,o as j,B as z,_ as A}from"./index.e4314302.js";import{b as _,c as C}from"./format.3c5dc5cf.js";const T={class:"flex space-x-12 mt-8 my-16"},$={class:"flex items-center justify-center flex-shrink-0 relative"},S={class:"rounded-full h-72 w-72"},q={class:"h-72 w-72 absolute top-3 -z-10 bg-cover blur-md opacity-60 rounded-full"},M={class:"flex flex-col justify-center"},V={class:"font-bold text-5xl mb-4 lineClamp2"},D={class:"flex justify-start space-x-4"},E={class:"flex items-center text-skin-tertiary text-sm space-x-1"},U={class:"flex items-center text-skin-tertiary text-sm space-x-1"},L={class:"flex items-center text-skin-tertiary text-sm space-x-1"},P=["textContent"],B={class:"mt-4 flex items-center space-x-8"},F={class:"py-1.5 px-2.5 rounded-lg flex items-center justify-center space-x-1 bg-skin-primary bg-opacity-20 flex-shrink-0"},I=u("span",{class:"font-bold text-skin-primary"},"播放",-1),J={class:"p-2 rounded-lg flex items-center justify-center bg-gray-400 bg-opacity-10 flex-shrink-0"},Y={class:"p-0.5 rounded-lg flex items-center justify-center bg-gray-400 bg-opacity-10 flex-shrink-0"},G={class:"space-y-8"},H={key:0},K=u("h3",{class:"font-bold text-2xl mb-4"},"最新发布",-1),N={class:"flex h-40"},O={class:"flex flex-1 items-center space-x-4"},Q={class:"w-40 flex-shrink-0"},R={class:"font-bold text-lg mb-2"},W={class:"text-sm text-gray-400"},X={class:"flex items-center text-sm text-gray-400 space-x-2"},Z=u("span",null,"•",-1),ee={class:"flex items-center space-x-1"},te={key:0,class:"flex-1 flex space-x-4"},le={class:"flex-shrink-0"},se={class:"flex flex-col justify-center"},ae={class:"font-bold text-lg mb-2"},ie={class:"flex items-center text-sm text-gray-400 space-x-2"},re=u("div",{class:"flex items-center text-sm text-gray-400 space-x-2"}," 最新mv ",-1),me={key:1},ne=u("h3",{class:"font-bold text-2xl mb-4"},"热门歌曲",-1),ce={class:"w-full flex flex-wrap items-center"},ue={key:2},oe=u("h3",{class:"font-bold text-2xl mb-4"},"专辑",-1),ve={class:"grid grid-cols-5 gap-8 lg:gap-x-5"},de={key:3},xe=u("h3",{class:"font-bold text-2xl mb-4"},"EP和单曲",-1),pe={class:"grid grid-cols-5 gap-10 lg:gap-x-5"},fe={class:"text-xs text-gray-400 italic"},ye={key:4},be=u("h3",{class:"font-bold text-2xl mb-4"},"MVs",-1),ge={class:"grid grid-cols-5 gap-10 lg:gap-x-5"},he={key:5},ke=u("h3",{class:"font-bold text-2xl mb-4"},"相似歌手",-1),we={class:"grid gap-10 grid-cols-6 lg:gap-x-5"},je={class:"overflow-auto text-sm whitespace-pre-wrap"},ze={__name:"Artist",setup(ze){const{proxy:Ae}=z(),_e=h(),Ce=k(),Te=a(!1),$e=()=>{Te.value=!0},Se=a({}),qe=a([]),Me=a([]),Ve=a([]),De=a([]),Ee=a([]),Ue=i((()=>{var e,t;return(null==(e=Ve.value[0])?void 0:e.publishTime)>(null==(t=Me.value[0])?void 0:t.publishTime)?{album:Ve.value[0],mv:De.value[0]}:{album:Me.value[0],mv:De.value[0]}}));return(()=>{const e=_e.params.id;Ae.$http.reqArtistDetail({id:e}).then((({data:e})=>{var t;e.data.artist.cover=(null==(t=e.data.user)?void 0:t.avatarUrl.replace(/^http:/,"https://"))||e.data.artist.cover.replace(/^http:/,"https://"),Se.value=e.data.artist})),Ae.$http.reqAritstTop({id:e}).then((({data:e})=>{qe.value=e.songs.slice(0,12)})),Ae.$http.reqArtistAlbum({id:e,limit:50}).then((({data:e})=>{Me.value=e.hotAlbums.filter((e=>"专辑"===e.type)),Ve.value=e.hotAlbums.filter((e=>"EP"===e.type||"Single"===e.type))})),Ae.$http.reqArtistMV({id:e}).then((({data:e})=>{De.value=e.mvs})),Ae.$http.reqArtistSimi({id:e}).then((({data:e})=>{Ee.value=e.artists.slice(0,12)}))})(),r(_e,((e,t)=>{t.name===e.name&&Ce.go(0)})),(a,i)=>{var r;const h=A,k=s,z=l,ze=t,Ae=e,_e=w("lazy");return m((j(),c("div",null,[u("div",T,[u("div",$,[m(u("img",S,null,512),[[_e,`${Se.value.cover}?param=512y512`]]),m(u("img",q,null,512),[[_e,`${Se.value.cover}?param=512y512`]])]),u("div",M,[u("h3",V,o(Se.value.name),1),u("div",D,[u("div",E,[v(h,{name:"music",size:"18",class:"text-gray-400"}),u("span",null,o(Se.value.musicSize)+"首",1)]),u("div",U,[v(h,{name:"album",size:"18",class:"text-gray-400"}),u("span",null,o(Se.value.albumSize)+"张",1)]),u("div",L,[v(h,{name:"mv",size:"18",class:"text-gray-400"}),u("span",null,o(Se.value.mvSize)+"部",1)])]),u("div",{class:"my-4 lineClamp3 text-skin-tertiary text-sm cursor-pointer whitespace-pre-wrap",onClick:$e,textContent:o(Se.value.briefDesc)},null,8,P),u("div",B,[u("button",F,[v(h,{name:"play",size:"24",class:"text-skin-primary"}),I]),u("button",J,[(j(),d(h,{key:0,name:"dislike",size:"20",class:"text-skin-primary"}))]),u("button",Y,[v(h,{name:"more",size:"32",class:"text-skin-primary"})])])])]),u("div",G,[(null==(r=x(Ue))?void 0:r.album)?(j(),c("div",H,[K,u("div",N,[u("div",O,[u("div",Q,[v(k,{"row-list-item":x(Ue).album,"row-type":"newAlbum","show-title":!1},null,8,["row-list-item"])]),u("div",null,[u("div",R,o(x(Ue).album.name),1),u("div",W,o(x(_)(x(Ue).album.publishTime)),1),u("div",X,[u("div",null,o(x(Ue).album.type),1),Z,u("div",ee,[v(h,{name:"music",size:"16"}),u("div",null,o(x(Ue).album.size)+"首",1)])])])]),x(Ue).mv?(j(),c("div",te,[u("div",le,[v(z,{item:x(Ue).mv,"img-url":x(Ue).mv.imgurl,"show-title":!1},null,8,["item","img-url"])]),u("div",se,[u("div",ae,o(x(Ue).mv.name),1),u("div",ie,o(x(C)(x(Ue).mv.publishTime)),1),re])])):p("",!0)])])):p("",!0),qe.value.length>0?(j(),c("div",me,[ne,u("div",ce,[(j(!0),c(f,null,y(qe.value,((e,t)=>(j(),c("div",{key:t,class:"w-1/4 h-1/3 py-1"},[v(ze,{item:e,"pic-url":e.al.picUrl,name:e.name,alia:e.alia,ar:e.ar},null,8,["item","pic-url","name","alia","ar"])])))),128))])])):p("",!0),Me.value.length>0?(j(),c("div",ue,[oe,u("div",ve,[(j(!0),c(f,null,y(Me.value,((e,t)=>(j(),c("div",{key:t},[v(k,{"row-list-item":e,"row-type":"newAlbum"},null,8,["row-list-item"])])))),128))])])):p("",!0),Ve.value.length>0?(j(),c("div",de,[xe,u("div",pe,[(j(!0),c(f,null,y(Ve.value,((e,t)=>(j(),c("div",{key:t},[v(k,{"row-list-item":e,"row-type":"newAlbum"},{subTilte:b((({rowListItem:e})=>[u("div",fe,o(e.type),1)])),_:2},1032,["row-list-item"])])))),128))])])):p("",!0),De.value.length>0?(j(),c("div",ye,[be,u("div",ge,[(j(!0),c(f,null,y(De.value,((e,t)=>(j(),c("div",{key:t},[v(z,{item:e,"img-url":e.imgurl,name:e.name,"sub-text":e.publishTime,"show-title":!0},null,8,["item","img-url","name","sub-text"])])))),128))])])):p("",!0),Ee.value.length>0?(j(),c("div",he,[ke,u("div",we,[(j(!0),c(f,null,y(Ee.value,((e,t)=>(j(),c("div",{key:t},[v(k,{"row-list-item":e,"row-type":"recomArtist"},null,8,["row-list-item"])])))),128))])])):p("",!0)]),(j(),d(g,{to:"#main"},[v(Ae,{modelValue:Te.value,"onUpdate:modelValue":i[0]||(i[0]=e=>Te.value=e),type:"专辑介绍"},{content:b((()=>[u("div",je,o(Se.value.briefDesc),1)])),_:1},8,["modelValue"])]))],512)),[[n,Se.value.cover]])}}};export{ze as default};
