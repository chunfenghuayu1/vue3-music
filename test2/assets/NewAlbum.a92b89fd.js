import{_ as e}from"./Modal.9b6ee74a.js";import{X as s,f as a,L as t,M as l,o as i,c as n,a as r,t as o,b as c,u,v as d,s as m,_ as p,m as v,w as y,Q as x,Y as f,S as g,r as k,d as b,F as h,e as j,B as w,z as C}from"./index.e4314302.js";import{a as z,b as _}from"./format.3c5dc5cf.js";const M={class:"w-2 flex items-center justify-center"},A={key:0,class:"font-semibold italic text-skin-tertiary"},I={key:1},S={class:"flex flex-col justify-center flex-1"},T={class:"flex font-bold text-lg lineClamp1"},U={class:"lineClamp1 hover:underline cursor-pointer"},V={key:0,class:"text-skin-tertiary lineClamp1"},$={class:"flex justify-end items-center w-8"},q={class:"cursor-pointer"},B={key:0,class:"flex items-center justify-center"},D={__name:"AlbumItem",props:{song:{type:Object,default:()=>{}}},setup(e){const v=s(),y=a(!1);return(s,a)=>{const x=p;return t((i(),n("div",{class:"flex space-x-6 items-center hover:bg-opacity-10 hover:bg-skin-tertiary transition-all rounded-lg py-3 px-4",onMouseenter:a[0]||(a[0]=e=>y.value=!0),onMouseleave:a[1]||(a[1]=e=>y.value=!1)},[r("div",M,[y.value&&e.song.dt?e.song.dt?(i(),n("div",I,[c(x,{name:"play",size:"24",class:"text-skin-primary"})])):u("",!0):(i(),n("div",A,o(e.song.no),1))]),r("div",S,[r("div",T,[r("span",U,o(e.song.name),1),e.song.alia[0]?(i(),n("span",V," ("+o(e.song.alia[0])+") ",1)):u("",!0)])]),r("div",$,[t(r("div",q,[d(v).likeSongIds(e.song.id)?(i(),m(x,{key:0,name:"like",size:"20",class:"text-skin-primary"})):(i(),m(x,{key:1,name:"dislike",size:"20",class:"text-skin-primary"}))],512),[[l,d(v).likeSongIds(e.song.id)||y.value&&e.song.dt]])]),e.song.dt?(i(),n("div",B,o(d(z)(e.song.dt)),1)):u("",!0)],544)),[[l,e.song.name]])}}},F={class:"flex space-x-12 mt-8 my-16"},L={class:"flex items-center justify-center flex-shrink-0 relative"},N=["src"],O=["src"],Q={class:"flex flex-col justify-center"},X={class:"font-bold text-5xl mb-4 lineClamp2"},Y={class:""},E={class:"lineClamp1 font-bold"},G=r("span",null,"专辑列表",-1),H=r("span",null," • ",-1),J={class:"lineClamp1 text-skin-tertiary text-sm"},K=r("span",null," • ",-1),P=["textContent"],R={class:"mt-4 flex items-center space-x-8"},W={class:"py-1.5 px-2.5 rounded-lg flex items-center justify-center space-x-1 bg-skin-primary bg-opacity-20 flex-shrink-0"},Z=r("span",{class:"font-bold text-skin-primary"},"播放",-1),ee={class:"p-2 rounded-lg flex items-center justify-center bg-gray-400 bg-opacity-10 flex-shrink-0"},se={class:"p-0.5 rounded-lg flex items-center justify-center bg-gray-400 bg-opacity-10 flex-shrink-0"},ae={key:0,class:"flex items-center my-4"},te={class:"font-bold text-2xl"},le={class:"overflow-auto text-sm whitespace-pre-wrap"},ie={__name:"NewAlbum",setup(s){const{proxy:z}=w(),M=g(),A=a(!1),I=()=>{A.value=!0},S=a({}),T=a([]),U=v((()=>{const e=C.exports.uniqBy(T.value,"cd"),s=e.length>1;return{list:e.map((e=>({list:T.value.filter((s=>s.cd===e.cd)),cd:e.cd}))),isTitle:s}}));return(({id:e})=>{z.$http.reqAlbumDetail({id:e}).then((({data:e})=>{S.value=e.album,T.value=e.songs}))})({id:M.params.id}),(s,a)=>{var v;const g=k("router-link"),w=p,C=D,z=e;return t((i(),n("div",null,[r("div",F,[r("div",L,[r("img",{src:`${S.value.picUrl}?param=512y512`,class:"rounded-lg h-72 w-72"},null,8,N),r("img",{src:`${S.value.picUrl}?param=512y512`,class:"h-72 w-72 absolute top-3 -z-10 bg-cover blur-md opacity-60 rounded-lg"},null,8,O)]),r("div",Q,[r("h3",X,o(S.value.name),1),r("div",Y,[r("div",E,[G,H,(null==(v=S.value.artists)?void 0:v.length)>0?(i(),m(g,{key:0,to:{name:"artist",params:{id:S.value.artist.id}},class:"hover:underline"},{default:y((()=>[b(o(S.value.artist.name),1)])),_:1},8,["to"])):u("",!0)]),r("div",J,[r("span",null,"发布于"+o(d(_)(S.value.publishTime)),1),K,r("span",null,o(S.value.size)+"首歌",1)])]),r("div",{class:"my-4 lineClamp3 text-skin-tertiary text-sm cursor-pointer whitespace-pre-wrap",onClick:I,textContent:o(S.value.description)},null,8,P),r("div",R,[r("button",W,[c(w,{name:"play",size:"24",class:"text-skin-primary"}),Z]),r("button",ee,[(i(),m(w,{key:0,name:"dislike",size:"20",class:"text-skin-primary"}))]),r("button",se,[c(w,{name:"more",size:"32",class:"text-skin-primary"})])])])]),c(x,{tag:"div",name:"track-item"},{default:y((()=>[(i(!0),n(h,null,j(d(U).list,((e,s)=>(i(),n("div",{key:s,class:"space-y-2"},[d(U).isTitle?(i(),n("div",ae,[r("h3",te,"Disc"+o(e.cd),1)])):u("",!0),(i(!0),n(h,null,j(e.list,((e,s)=>(i(),n("div",{key:s},[c(C,{song:e},null,8,["song"])])))),128))])))),128))])),_:1}),(i(),m(f,{to:"#main"},[c(z,{modelValue:A.value,"onUpdate:modelValue":a[0]||(a[0]=e=>A.value=e),type:"专辑介绍"},{content:y((()=>[r("div",le,o(S.value.description),1)])),_:1},8,["modelValue"])]))],512)),[[l,S.value.name]])}}};export{ie as default};
