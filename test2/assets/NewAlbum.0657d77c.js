import{_ as N}from"./Modal.339c971a.js";import{X as A,f as h,L as b,M as w,o as s,c as a,a as e,t as o,b as d,u as p,v as u,s as v,_ as D,m as L,w as k,Q as U,Y as q,S as F,r as E,d as G,F as z,e as S,B as O,z as P}from"./index.3cf213f0.js";import{a as Q,b as R}from"./format.3c5dc5cf.js";const X={class:"w-2 flex items-center justify-center"},Y={key:0,class:"font-semibold italic text-skin-tertiary"},H={key:1},J={class:"flex flex-col justify-center flex-1"},K={class:"flex font-bold text-lg lineClamp1"},W={class:"lineClamp1 hover:underline cursor-pointer"},Z={key:0,class:"text-skin-tertiary lineClamp1"},ee={class:"flex justify-end items-center w-8"},te={class:"cursor-pointer"},se={key:0,class:"flex items-center justify-center"},ne={__name:"AlbumItem",props:{song:{type:Object,default:()=>{}}},setup(n){const y=A(),i=h(!1);return(f,c)=>{const t=D;return b((s(),a("div",{class:"flex space-x-6 items-center hover:bg-opacity-10 hover:bg-skin-tertiary transition-all rounded-lg py-3 px-4",onMouseenter:c[0]||(c[0]=m=>i.value=!0),onMouseleave:c[1]||(c[1]=m=>i.value=!1)},[e("div",X,[!i.value||!n.song.dt?(s(),a("div",Y,o(n.song.no),1)):n.song.dt?(s(),a("div",H,[d(t,{name:"play",size:"24",class:"text-skin-primary"})])):p("",!0)]),e("div",J,[e("div",K,[e("span",W,o(n.song.name),1),n.song.alia[0]?(s(),a("span",Z," ("+o(n.song.alia[0])+") ",1)):p("",!0)])]),e("div",ee,[b(e("div",te,[u(y).likeSongIds(n.song.id)?(s(),v(t,{key:0,name:"like",size:"20",class:"text-skin-primary"})):(s(),v(t,{key:1,name:"dislike",size:"20",class:"text-skin-primary"}))],512),[[w,u(y).likeSongIds(n.song.id)||i.value&&n.song.dt]])]),n.song.dt?(s(),a("div",se,o(u(Q)(n.song.dt)),1)):p("",!0)],544)),[[w,n.song.name]])}}},oe={class:"flex space-x-12 mt-8 my-16"},ae={class:"flex items-center justify-center flex-shrink-0 relative"},le=["src"],ie=["src"],ce={class:"flex flex-col justify-center"},re={class:"font-bold text-5xl mb-4 lineClamp2"},de={class:""},ue={class:"lineClamp1 font-bold"},me=e("span",null,"\u4E13\u8F91\u5217\u8868",-1),_e=e("span",null," \u2022 ",-1),pe={class:"lineClamp1 text-skin-tertiary text-sm"},ve=e("span",null," \u2022 ",-1),ye=["textContent"],fe={class:"mt-4 flex items-center space-x-8"},xe={class:"py-1.5 px-2.5 rounded-lg flex items-center justify-center space-x-1 bg-skin-primary bg-opacity-20 flex-shrink-0"},he=e("span",{class:"font-bold text-skin-primary"},"\u64AD\u653E",-1),ge={class:"p-2 rounded-lg flex items-center justify-center bg-gray-400 bg-opacity-10 flex-shrink-0"},ke={class:"p-0.5 rounded-lg flex items-center justify-center bg-gray-400 bg-opacity-10 flex-shrink-0"},be={key:0,class:"flex items-center my-4"},we={class:"font-bold text-2xl"},$e={class:"overflow-auto text-sm whitespace-pre-wrap"},Se={__name:"NewAlbum",setup(n){const{proxy:y}=O(),i=F(),f=h(!1),c=()=>{f.value=!0},t=h({}),m=h([]),B=({id:_})=>{y.$http.reqAlbumDetail({id:_}).then(({data:l})=>{t.value=l.album,m.value=l.songs})},$=L(()=>{const _=P.exports.uniqBy(m.value,"cd"),l=_.length>1;return{list:_.map(r=>({list:m.value.filter(g=>g.cd===r.cd),cd:r.cd})),isTitle:l}});return B({id:i.params.id}),(_,l)=>{var j;const C=E("router-link"),r=D,g=ne,I=N;return b((s(),a("div",null,[e("div",oe,[e("div",ae,[e("img",{src:`${t.value.picUrl}?param=512y512`,class:"rounded-lg h-72 w-72"},null,8,le),e("img",{src:`${t.value.picUrl}?param=512y512`,class:"h-72 w-72 absolute top-3 -z-10 bg-cover blur-md opacity-60 rounded-lg"},null,8,ie)]),e("div",ce,[e("h3",re,o(t.value.name),1),e("div",de,[e("div",ue,[me,_e,((j=t.value.artists)==null?void 0:j.length)>0?(s(),v(C,{key:0,to:{name:"artist",params:{id:t.value.artist.id}},class:"hover:underline"},{default:k(()=>[G(o(t.value.artist.name),1)]),_:1},8,["to"])):p("",!0)]),e("div",pe,[e("span",null,"\u53D1\u5E03\u4E8E"+o(u(R)(t.value.publishTime)),1),ve,e("span",null,o(t.value.size)+"\u9996\u6B4C",1)])]),e("div",{class:"my-4 lineClamp3 text-skin-tertiary text-sm cursor-pointer whitespace-pre-wrap",onClick:c,textContent:o(t.value.description)},null,8,ye),e("div",fe,[e("button",xe,[d(r,{name:"play",size:"24",class:"text-skin-primary"}),he]),e("button",ge,[(s(),v(r,{key:0,name:"dislike",size:"20",class:"text-skin-primary"}))]),e("button",ke,[d(r,{name:"more",size:"32",class:"text-skin-primary"})])])])]),d(U,{tag:"div",name:"track-item"},{default:k(()=>[(s(!0),a(z,null,S(u($).list,(x,M)=>(s(),a("div",{key:M,class:"space-y-2"},[u($).isTitle?(s(),a("div",be,[e("h3",we,"Disc"+o(x.cd),1)])):p("",!0),(s(!0),a(z,null,S(x.list,(V,T)=>(s(),a("div",{key:T},[d(g,{song:V},null,8,["song"])]))),128))]))),128))]),_:1}),(s(),v(q,{to:"#main"},[d(I,{modelValue:f.value,"onUpdate:modelValue":l[0]||(l[0]=x=>f.value=x),type:"\u4E13\u8F91\u4ECB\u7ECD"},{content:k(()=>[e("div",$e,o(t.value.description),1)]),_:1},8,["modelValue"])]))],512)),[[w,t.value.name]])}}};export{Se as default};
