import{f as e,m as t,E as s,I as l,J as a,o as r,c as o,a as i,K as n,b as u,w as c,L as m,M as p,T as d,N as y,v as f,A as v,u as w,t as b,F as g,_ as h}from"./index.e4314302.js";import{f as I}from"./format.3c5dc5cf.js";const L={class:"relative"},k=["onClick"],C=["onClick"],T=["src"],j={key:0,class:"mr-1"},A={class:"lineClamp2"},x={__name:"Cover",props:{rowListItem:{type:Object,default:()=>{}},rowType:{type:String,default:""},showTitle:{type:Boolean,default:!0}},setup(x){const z=x,_=e(!1),M=t((()=>{if(-1===z.rowListItem.img1v1)return"https://p1.music.126.net/VnZiScyynLG7atLIZ2YPkw==/18686200114669622.jpg?param=512y512";let e=z.rowListItem.img1v1Url||z.rowListItem.picUrl||z.rowListItem.coverImgUrl;return`${null==e?void 0:e.replace(/^http:/,"https://")}?param=512y512`})),U=t((()=>{var e;let t=null==(e=z.rowListItem)?void 0:e.playCount;return I(t)})),$=s(),S=()=>{const e=z.rowType,t=z.rowListItem.id;""!==e?"newAlbum"!==e?"recomArtist"!==e?"mylist"===e&&$.push({name:"playlist",params:{id:t}}):$.push({name:"artist",params:{id:t}}):$.push({name:"newAlbum",params:{id:t}}):$.push({name:"playlist",params:{id:t}})},Z=()=>{};return l((()=>{_.value=!1})),(e,t)=>{const s=h,l=a("lazy");return r(),o(g,null,[i("div",L,[i("div",{class:"flex items-center justify-center absolute top-0 w-full h-full bg-opacity-0 cursor-pointer",onClick:n(S,["self"]),onMouseenter:t[0]||(t[0]=e=>_.value=!0),onMouseleave:t[1]||(t[1]=e=>_.value=!1)},[u(d,{name:"cover-playbtn",mode:"out-in"},{default:c((()=>[m(i("div",{class:"flex items-center justify-center backdrop-saturate-180 backdrop-blur-md rounded-full p-2 bg-white bg-opacity-20 active:scale-90 transition-all",onClick:n(Z,["stop"])},[u(s,{name:"play",size:"36",class:"text-white"})],8,C),[[p,_.value]])])),_:1})],40,k),y(e.$slots,"playCount",{playCount:f(U)}),m(i("img",{loading:"lazy",class:v(["recomArtist"===x.rowType?"rounded-full":"rounded-lg","object-cover w-full h-full"])},null,2),[[l,f(M)]]),u(d,{name:"cover",mode:"out-in"},{default:c((()=>[m(i("img",{src:f(M),class:v(["w-full h-full absolute top-3 -z-10 bg-cover blur-md opacity-60 scale-95","recomArtist"===x.rowType?"rounded-full":"rounded-lg"]),loading:"lazy"},null,10,T),[[p,_.value]])])),_:1})]),x.showTitle?(r(),o("div",{key:0,class:v(["mt-2 flex items-center","recomArtist"===x.rowType?"justify-center":""])},["mylist"===x.rowType&&0!==x.rowListItem.privacy?(r(),o("div",j,[u(s,{name:"lock",size:"20"})])):w("",!0),i("div",A,[i("a",{class:"cursor-pointer hover:underline font-semibold",onClick:S},b(x.rowListItem.name),1)])],2)):w("",!0),y(e.$slots,"subTilte",{rowListItem:x.rowListItem})],64)}}};export{x as _};
