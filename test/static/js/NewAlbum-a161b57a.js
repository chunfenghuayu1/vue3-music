import{_ as e}from"./Modal-0d32c652.js";import{c as s,_ as a,l as t}from"./index-3064f07a.js";import{r as l,A as i,B as n,o as r,c as o,a as c,C as u,z as d,F as m,u as p,t as v,j as y,v as x,ad as f,af as g,V as k,U as b,S as h,G as j,a0 as C,k as w}from"./common-e50ab5ff.js";import{a as z,b as _}from"./format-219ee090.js";const A={class:"w-2 flex items-center justify-center"},U={key:0,class:"font-semibold italic text-skin-tertiary"},V={key:1},I={class:"flex flex-col justify-center flex-1"},M={class:"flex font-bold text-lg lineClamp1"},S={class:"lineClamp1 hover:underline cursor-pointer"},T={key:0,class:"text-skin-tertiary lineClamp1"},$={class:"flex justify-end items-center w-8"},q={class:"cursor-pointer"},B={key:0,class:"flex items-center justify-center"},D={__name:"AlbumItem",props:{song:{type:Object,default:()=>{}}},setup(e){const t=s(),y=l(!1);return(s,l)=>{const x=a;return i((r(),o("div",{class:"flex space-x-6 items-center hover:bg-opacity-10 hover:bg-skin-tertiary transition-all rounded-lg py-3 px-4",onMouseenter:l[0]||(l[0]=e=>y.value=!0),onMouseleave:l[1]||(l[1]=e=>y.value=!1)},[c("div",A,[y.value&&e.song.dt?e.song.dt?(r(),o("div",V,[d(x,{name:"play",size:"24",class:"text-skin-primary"})])):m("",!0):(r(),o("div",U,u(e.song.no),1))]),c("div",I,[c("div",M,[c("span",S,u(e.song.name),1),e.song.alia[0]?(r(),o("span",T," ("+u(e.song.alia[0])+") ",1)):m("",!0)])]),c("div",$,[i(c("div",q,[p(t).likeSongIds(e.song.id)?(r(),v(x,{key:0,name:"like",size:"20",class:"text-skin-primary"})):(r(),v(x,{key:1,name:"dislike",size:"20",class:"text-skin-primary"}))],512),[[n,p(t).likeSongIds(e.song.id)||y.value&&e.song.dt]])]),e.song.dt?(r(),o("div",B,u(p(z)(e.song.dt)),1)):m("",!0)],544)),[[n,e.song.name]])}}},F={class:"flex space-x-12 mt-8 my-16"},G={class:"flex items-center justify-center flex-shrink-0 relative"},N=["src"],O=["src"],E={class:"flex flex-col justify-center"},H={class:"font-bold text-5xl mb-4 lineClamp2"},J={class:""},K={class:"lineClamp1 font-bold"},L=c("span",null,"专辑列表",-1),P=c("span",null," • ",-1),Q={class:"lineClamp1 text-skin-tertiary text-sm"},R=c("span",null," • ",-1),W=["textContent"],X={class:"mt-4 flex items-center space-x-8"},Y={class:"py-1.5 px-2.5 rounded-lg flex items-center justify-center space-x-1 bg-skin-primary bg-opacity-20 flex-shrink-0"},Z=c("span",{class:"font-bold text-skin-primary"},"播放",-1),ee={class:"p-2 rounded-lg flex items-center justify-center bg-gray-400 bg-opacity-10 flex-shrink-0"},se={class:"p-0.5 rounded-lg flex items-center justify-center bg-gray-400 bg-opacity-10 flex-shrink-0"},ae={key:0,class:"flex items-center my-4"},te={class:"font-bold text-2xl"},le={class:"overflow-auto text-sm whitespace-pre-wrap"},ie={__name:"NewAlbum",setup(s){const{proxy:z}=w(),A=k(),U=l(!1),V=()=>{U.value=!0},I=l({}),M=l([]),S=y((()=>{const e=t.exports.uniqBy(M.value,"cd"),s=e.length>1;return{list:e.map((e=>({list:M.value.filter((s=>s.cd===e.cd)),cd:e.cd}))),isTitle:s}}));return(({id:e})=>{z.$http.reqAlbumDetail({id:e}).then((({data:e})=>{I.value=e.album,M.value=e.songs}))})({id:A.params.id}),(s,t)=>{var l;const y=b("router-link"),k=a,w=D,z=e;return i((r(),o("div",null,[c("div",F,[c("div",G,[c("img",{src:`${I.value.picUrl}?param=512y512`,class:"rounded-lg h-72 w-72"},null,8,N),c("img",{src:`${I.value.picUrl}?param=512y512`,class:"h-72 w-72 absolute top-3 -z-10 bg-cover blur-md opacity-60 rounded-lg"},null,8,O)]),c("div",E,[c("h3",H,u(I.value.name),1),c("div",J,[c("div",K,[L,P,(null==(l=I.value.artists)?void 0:l.length)>0?(r(),v(y,{key:0,to:{name:"artist",params:{id:I.value.artist.id}},class:"hover:underline"},{default:x((()=>[h(u(I.value.artist.name),1)])),_:1},8,["to"])):m("",!0)]),c("div",Q,[c("span",null,"发布于"+u(p(_)(I.value.publishTime)),1),R,c("span",null,u(I.value.size)+"首歌",1)])]),c("div",{class:"my-4 lineClamp3 text-skin-tertiary text-sm cursor-pointer whitespace-pre-wrap",onClick:V,textContent:u(I.value.description)},null,8,W),c("div",X,[c("button",Y,[d(k,{name:"play",size:"24",class:"text-skin-primary"}),Z]),c("button",ee,[(r(),v(k,{key:0,name:"dislike",size:"20",class:"text-skin-primary"}))]),c("button",se,[d(k,{name:"more",size:"32",class:"text-skin-primary"})])])])]),d(f,{tag:"div",name:"track-item"},{default:x((()=>[(r(!0),o(j,null,C(p(S).list,((e,s)=>(r(),o("div",{key:s,class:"space-y-2"},[p(S).isTitle?(r(),o("div",ae,[c("h3",te,"Disc"+u(e.cd),1)])):m("",!0),(r(!0),o(j,null,C(e.list,((e,s)=>(r(),o("div",{key:s},[d(w,{song:e},null,8,["song"])])))),128))])))),128))])),_:1}),(r(),v(g,{to:"#main"},[d(z,{modelValue:U.value,"onUpdate:modelValue":t[0]||(t[0]=e=>U.value=e),type:"专辑介绍"},{content:x((()=>[c("div",le,u(I.value.description),1)])),_:1},8,["modelValue"])]))],512)),[[n,I.value.name]])}}};export{ie as default};
